<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../include/head') %>
    <title>Emissor de NFe - Emissor</title>
    <style>
      #aemissor {
        color: #fff;
      }
    </style>
  </head>

  <body>
    <%- include('../include/header') %>

    <main>
      <form action="/nfe" method="post" id="mainform">
        <div id="emissor" class="row">
          <div>
            <div class="col-md-12">
              <h3 class="informacoes-cliente">Informações do Cliente</h3>
              <hr />
            </div>
            <fieldset class="form-group">
              <div style="text-align: center; display: flex">
                <label for="data">Data</label>
                <input
                  style="padding: 10px"
                  type="date"
                  id="data"
                  name="data_nf"
                />
                <div>
                  <label for="tipo_operacao">Natureza de Operação</label>
                  <input type="text" id="tipo_operacao" name="tipo_operacao" />
                </div>
              </div>
              <div>
                <input
                  type="radio"
                  id="pf"
                  value="pf"
                  name="tipo_cliente"
                  checked
                />
                <label for="pf">Pessoa Física</label>
              </div>
              <div>
                <input type="radio" id="pj" value="pj" name="tipo_cliente" />
                <label for="pj">Pessoa Jurídica</label>
              </div>

              <div>
                <div class="row row--no-margin">
                  <div class="col-md-3">
                    <label class="field-label"
                      >Nome Completo<span class="field-required">*</span></label
                    >
                    <div>
                      <input
                        type="text"
                        name="cliente_nome_completo"
                        class="form-control"
                        autocomplete="off"
                        value=""
                        required
                      />
                    </div>
                  </div>
                  <div class="col-md-3">
                    <label class="field-label"
                      >CPF / CNPJ<span class="field-required">*</span></label
                    ><input
                      type="text"
                      name="cliente_cpf"
                      placeholder="___.___.___-__"
                      class="form-control"
                      value=""
                    />
                  </div>
                  <div class="col-md-3">
                    <label class="field-label"
                      >Inscrição estadual (I.E) <i></i></label
                    ><input
                      type="text"
                      name="cliente_ie"
                      class="form-control"
                      value=""
                    />
                  </div>
                  <div class="col-md-3">
                    <label class="field-label">Consumidor Final</label
                    ><select name="consumidor_final" class="form-control">
                      <option value="">---</option>
                      <option value="0">Não</option>
                      <option value="1">Sim</option>
                    </select>
                  </div>
                  <div class="col-md-2">
                    <label class="field-label"
                      >CEP<span class="field-required">*</span></label
                    ><input
                      type="text"
                      name="cliente_cep"
                      placeholder="_____-___"
                      class="form-control"
                      value=""
                    />
                  </div>
                  <div class="col-md-5">
                    <label class="field-label"
                      >Endereço <span class="field-required">*</span></label
                    ><input
                      type="text"
                      name="cliente_endereco"
                      class="form-control"
                      value=""
                    />
                  </div>
                  <div class="col-md-2">
                    <label class="field-label"
                      >Número <span class="field-required">*</span></label
                    ><input
                      type="text"
                      name="cliente_numero"
                      class="form-control"
                      value=""
                    />
                  </div>
                  <div class="col-md-3">
                    <label class="field-label">Complemento </label
                    ><input
                      type="text"
                      name="cliente_complemento"
                      class="form-control"
                      value=""
                    />
                  </div>
                  <div class="col-md-4">
                    <label class="field-label"
                      >Bairro <span class="field-required">*</span></label
                    ><input
                      type="text"
                      name="cliente_bairro"
                      class="form-control"
                      value=""
                    />
                  </div>
                  <div class="col-md-5">
                    <label class="field-label"
                      >Cidade <span class="field-required">*</span></label
                    ><input
                      type="text"
                      name="cliente_cidade"
                      class="form-control"
                      value=""
                    />
                  </div>
                  <div class="col-md-3">
                    <label class="field-label"
                      >Estado <span class="field-required">*</span></label
                    >
                    <select name="cliente_uf" class="form-control">
                      <% states.forEach(states => { %>
                      <option value="<%= states.uf %>">
                        <%= states.name %>
                      </option>
                      <% }) %>
                    </select>
                  </div>
                  <div class="col-md-6">
                    <label class="field-label">E-mail</label
                    ><input
                      type="text"
                      name="cliente_email"
                      class="form-control"
                      value=""
                    />
                  </div>
                  <div class="col-md-6">
                    <label class="field-label">Telefone</label
                    ><input
                      type="text"
                      name="cliente_telefone"
                      placeholder="(__) ____-____"
                      class="form-control"
                      value=""
                    />
                  </div>
                </div>
              </div>
            </fieldset>
          </div>
          <div class="produtos">
            <h3 class="informacoes-produto">Informações dos Produtos</h3>
          </div>
          <hr />
          <div class="table">
            <table class="table products_table">
              <thead>
                <tr>
                  <th>Nome</th>
                  <th>Unidade</th>
                  <th>Qtd</th>
                  <th>Valor</th>
                  <th>Total</th>
                </tr>
              </thead>
              <tbody id="ptbody">
                <tr>
                  <td>
                    <input
                      type="text"
                      placeholder="Nome"
                      class="product_input"
                      name="produtos_nome"
                    />
                  </td>
                  <td>
                    <input
                      type="text"
                      placeholder="UN"
                      class="product_input"
                      name="produtos_unidade"
                    />
                  </td>
                  <td>
                    <input
                      type="number"
                      placeholder="0"
                      name="produtos_quantidade"
                      id="produtos_quantidade"
                      class="product_input"
                      maxlength="10"
                      oninput="updateSubTotal()"
                    />
                  </td>
                  <td>
                    <span>R$</span>
                    <input
                      type="number"
                      name="produtos_preco"
                      id="produtos_preco"
                      placeholder="R$"
                      class="product_input"
                      step=".01"
                      oninput="updateSubTotal()"
                    />
                  </td>
                  <td>
                    <span>R$</span>
                    <input
                      type="number"
                      maxlength="10"
                      id="produtos_subtotal"
                      name="produtos_subtotal"
                      disabled
                      class="product_input"
                      value="0"
                    />
                  </td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td>
                    <input
                      type="button"
                      id="addproduct"
                      class="botao"
                      value="Adicionar Produto"
                    />
                  </td>
                  <td>
                    <input
                      type="button"
                      id="removeproduct"
                      class="botao"
                      value="Remover Produto"
                    />
                  </td>
                  <td>
                    <input
                      type="button"
                      id="update_total"
                      class="botao"
                      value="Atualizar Valor Total"
                    />
                  </td>
                  <td>
                    <input
                      type="button"
                      id="clear_values"
                      class="botao"
                      value="Limpar Campos"
                    />
                  </td>

                  <td>
                    <input
                      type="number"
                      id="produtos_total_nota"
                      name="produtos_total_nota"
                      class="botao"
                      value="0.00"
                      disabled
                      style="margin-left: calc(100% + 30px)"
                    />
                  </td>
                </tr>
              </tfoot>
            </table>
          </div>
          <div class="col-md-12">
            <h4>Informações de Pagamento</h4>
            <div class="informacoes-pagamento">
              <div>
                <div class="row row--no-margin">
                  <div class="col-md-4">
                    <label class="field-label">Meio de pagamento </label
                    ><select name="forma_pagamento" class="form-control">
                      <% paymentMethods.forEach(method => { %>
                      <option value="<%= method.name %>">
                        <%= method.name %>
                      </option>
                      <% }) %>
                    </select>
                  </div>
                  <div class="col-md-4">
                    <label class="field-label">Forma de pagamento</label
                    ><select name="pagamento" class="form-control">
                      <% formaPagamentos.forEach(forma => { %>
                      <option value="<%= forma.value %>">
                        <%= forma.name %>
                      </option>
                      <% }) %>
                    </select>
                  </div>
                  <div class="col-md-4">
                    <label class="field-label">Valor do pagamento</label>
                    <div class="input-group">
                      <span class="input-group-addon">R$</span
                      ><input
                        type="text"
                        name="valor_pagamento"
                        class="form-control"
                        value=""
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div>
            <div class="col-md-12">
              <h3 class="informacoes-produto">
                <a>Informações de Transporte</a>
              </h3>
              <hr />
            </div>
            <fieldset>
              <div class="row">
                <div class="col-md-6">
                  <label>Modalidade do frete </label>
                  <select name="modalidade_frete" class="form-control">
                    <% modalidades.forEach(modalidades => { %>
                    <option value="<%= modalidades.value %>">
                      <%= modalidades.value %>
                    </option>
                    <% }) %>
                  </select>
                </div>
                <div class="col-md-6">
                  <label class="field-label">Forma de envio </label
                  ><select name="forma_envio" class="form-control" required>
                    <% fretes.forEach(fretes => { %>
                    <option value="<%= fretes.value %>">
                      <%= fretes.value %>
                    </option>
                    <% }) %>
                  </select>
                </div>
                <div class="col-md-12" style="margin-bottom: 0px"></div>
                <div class="col-md-3">
                  <label class="field-label"
                    >Total frete<span class="field-required">* </span></label
                  >
                  <div class="input-group">
                    <span>R$</span
                    ><input
                      type="text"
                      name="total_frete"
                      class="form-control"
                      value="0,00"
                    />
                  </div>
                </div>
                <div class="col-md-3">
                  <label class="field-label">Valor do seguro</label
                  ><input
                    type="text"
                    name="valor_seguro"
                    class="form-control"
                    value=""
                  />
                </div>
                <div class="col-md-3">
                  <label class="field-label">Peso bruto</label>
                  <div class="input-group">
                    <input
                      type="text"
                      name="peso_bruto"
                      class="form-control"
                      value=""
                    /><span>KG</span>
                  </div>
                </div>
                <div class="col-md-3">
                  <label class="field-label">Peso líquido</label>
                  <div class="input-group">
                    <input
                      type="text"
                      name="peso_liquido"
                      class="form-control"
                      value=""
                    /><span>KG</span>
                  </div>
                </div>
                <div class="col-md-3">
                  <label class="field-label">Placa do Veículo </label
                  ><input
                    type="text"
                    name="placa_veiculo"
                    placeholder="XXX-000"
                    class="form-control"
                    value=""
                  />
                </div>
                <div class="col-md-3">
                  <label class="field-label">Marca </label
                  ><input
                    type="text"
                    name="marca"
                    class="form-control"
                    value=""
                  />
                </div>
                <div class="col-md-3">
                  <label class="field-label">Numeração </label
                  ><input
                    type="text"
                    name="numeracao"
                    class="form-control"
                    value=""
                  />
                </div>
                <div class="col-md-3">
                  <label class="field-label">Número dos lacres </label
                  ><input
                    type="text"
                    name="lacres"
                    class="form-control"
                    value=""
                  />
                </div>
              </div>
            </fieldset>
            <button type="submit" form="mainform" id="emitirnf" class="botao">
              Emitir Nota Fiscal
            </button>
          </div>
        </div>
      </form>
    </main>
    <%- include('../include/footer') %>
  </body>
</html>
